import { import_all_daily_posts } from "/scripts/dailyPosts/importing.js";
import { generate_daily_post_stubs } from "/scripts/dailyPosts/postFlowGeneration.js";

// ############################################################################################
// ############################################################################################
// ############################################################################################

function process_daily_post_importing() {
    console.log("preparing daily post stubs");
    daily_post_flow_initialise();
    console.log("importing daily posts");
    import_all_daily_posts();
}

// ############################################################################################
// ############################################################################################
// ############################################################################################

// prepare all the stubs so our body loader knows to do the importing
function daily_post_flow_initialise() {
    // generate the posts on the flow box
    generate_daily_post_stubs( "daily_post_flow_box" );
}


// ############################################################################################
// ############################################################################################
// ############################################################################################

// get the page to listen for when they need to be loaded
window.addEventListener(
    "load",
    (event) => {
        process_daily_post_importing();
    }
);

// ############################################################################################
// ############################################################################################
// ############################################################################################
